var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,l=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&s(e,n,t[n]);if(o)for(var n of o(t))r.call(t,n)&&s(e,n,t[n]);return e},i=(e,o)=>t(e,n(o));import{a as c,Q as d,o as u,c as m,n as g,b as p,t as h,d as f,w as b,v,e as x,m as w,f as y,g as C,r as k,h as S,i as T,F as L,j as M,k as B,E as j,l as P,p as $,q as D,s as E,u as I,x as A,y as N,z as U,A as z,B as _,C as q,D as O,G as H,H as R,I as F,J,K as V,L as Q,M as G}from"./vendor.1d0fbe1c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var W=()=>c.create({baseURL:"https://za011b128-z699745d2-gtw.qovery.io/",withCredentials:!0});const X={props:["userId","username","blog"],data:()=>({reacted:!1,reactions:0}),methods:{async react(){this.userId?(this.reacted=!this.reacted,this.reactions+=this.reacted?1:-1,this.reacted?await W().post(`/blogs/reactions/${this.username}/${this.blog}/inc`):await W().post(`/blogs/reactions/${this.username}/${this.blog}/dec`)):this.toast("danger","You must be signed up to react")},toast(e,t,n){d({title:t,description:n},{timeout:5e3,position:"bottom-right",type:e,transition:"bounce",showIcon:!0})}},async mounted(){let e=(await W().get(`/blogs/reactions/${this.username}/${this.blog}`)).data;this.reactions=e.length,this.reacted=e.includes(this.userId)}},K={class:"reaction flex gap-2 items-center"},Y=[f("path",{d:"M1.79691 3.77795C2.00422 3.23198 2.30807 2.7359 2.69111 2.31804C3.07415 1.90017 3.52889 1.5687 4.02936 1.34255C4.52984 1.1164 5.06624 1 5.60795 1C6.14965 1 6.68605 1.1164 7.18653 1.34255C7.687 1.5687 8.14174 1.90017 8.52478 2.31804L9.73295 3.63604L10.9411 2.31804C11.7147 1.47412 12.7639 1.00001 13.8579 1.00001C14.952 1.00001 16.0012 1.47412 16.7748 2.31804C17.5484 3.16196 17.983 4.30656 17.983 5.50004C17.983 6.69352 17.5484 7.83812 16.7748 8.68204L9.73295 16.364L2.69111 8.68204C2.30807 8.26417 2.00422 7.7681 1.79691 7.22213C1.58961 6.67616 1.48291 6.09099 1.48291 5.50004C1.48291 4.90909 1.58961 4.32392 1.79691 3.77795Z","stroke-linecap":"round","stroke-linejoin":"round",class:"stroke-current"},null,-1)];X.render=function(e,t,n,o,a,r){return u(),m("div",K,[(u(),m("svg",{viewBox:"0 0 19 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:g(["cursor-pointer w-5 transition-all duration-300",{"stroke-1":!a.reacted,"text-gray-700":!a.reacted,"fill-current":a.reacted,"text-red-500":a.reacted}]),onClick:t[0]||(t[0]=(...e)=>r.react&&r.react(...e))},Y,2)),p(" "+h(a.reactions),1)])};const Z={name:"ScaleLoader",props:{loading:{type:Boolean,default:!0},height:{type:String,default:"35px"},width:{type:String,default:"4px"},margin:{type:String,default:"2px"},radius:{type:String,default:"2px"}},data(){return{spinnerStyle:{backgroundColor:"#00b894",height:this.height,width:this.width,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-scaleStretchDelay",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)"},spinnerDelay1:{animationDelay:"0.1s"},spinnerDelay2:{animationDelay:"0.2s"},spinnerDelay3:{animationDelay:"0.3s"},spinnerDelay4:{animationDelay:"0.4s"},spinnerDelay5:{animationDelay:"0.5s"}}}},ee={class:"v-spinner"};Z.render=function(e,t,n,o,a,r){return b((u(),m("div",ee,[f("div",{class:"v-scale v-scale1",style:x([a.spinnerStyle,a.spinnerDelay1])},null,4),f("div",{class:"v-scale v-scale2",style:x([a.spinnerStyle,a.spinnerDelay2])},null,4),f("div",{class:"v-scale v-scale3",style:x([a.spinnerStyle,a.spinnerDelay3])},null,4),f("div",{class:"v-scale v-scale4",style:x([a.spinnerStyle,a.spinnerDelay4])},null,4),f("div",{class:"v-scale v-scale5",style:x([a.spinnerStyle,a.spinnerDelay5])},null,4)],512)),[[v,n.loading]])};const te={components:{reactions:X,loader:Z},computed:w(["user","blogs","loading"]),data:()=>({isMobile:!1,pageNo:1}),methods:i(l({},y(["getBlogs","deleteBlog"])),{handleScroll(){const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;n+e>=t-5&&4*this.pageNo==this.blogs.length&&(this.pageNo++,this.getBlogs(this.pageNo))},updateDateFormat:e=>(C.extend(k),C(e).fromNow())}),mounted(){this.isMobile=window.innerWidth<650,window.onresize=()=>{this.isMobile=window.innerWidth<650},this.blogs.length||(this.getBlogs(this.pageNo),window.addEventListener("scroll",this.handleScroll))}},ne={class:"\r\n      flex flex-col\r\n      gap-20\r\n      px-5\r\n      md:px-20\r\n      lg:px-36\r\n      xl:px-56\r\n      py-10\r\n      bg-green-50\r\n      min-h-screen\r\n    "},oe={key:0,class:"flex flex-col gap-3"},ae={class:"user flex gap-3 items-center"},re=["src"],se=[f("svg",{viewBox:"0 0 512 512",class:"\r\n            w-6\r\n            h-6\r\n            mr-4\r\n            text-gray-700\r\n            opacity-75\r\n            fill-current\r\n            dark:text-gray-300\r\n          "},[f("path",{d:"M384 250v12c0 6.6-5.4 12-12 12h-98v98c0 6.6-5.4 12-12 12h-12c-6.6 0-12-5.4-12-12v-98h-98c-6.6 0-12-5.4-12-12v-12c0-6.6 5.4-12 12-12h98v-98c0-6.6 5.4-12 12-12h12c6.6 0 12 5.4 12 12v98h98c6.6 0 12 5.4 12 12zm120 6c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-32 0c0-119.9-97.3-216-216-216-119.9 0-216 97.3-216 216 0 119.9 97.3 216 216 216 119.9 0 216-97.3 216-216z"})],-1),p(" Create a blog ðŸ¤‘ ")],le={class:"flex flex-col gap-5"},ie={class:"flex justify-between items-center"},ce={class:"user flex gap-3 items-center"},de=["src"],ue={class:"flex gap-5 items-center"},me={key:0,class:"flex gap-2 items-center"},ge=["onClick"],pe=["onClick"],he=["onClick"],fe=["src"],be={class:"text-2xl"};te.render=function(e,t,n,o,a,r){const s=S("reactions"),l=S("loader");return u(),m("div",ne,[e.user&&!a.isMobile?(u(),m("div",oe,[f("div",ae,[f("img",{src:e.user.profilePic,class:"w-8 h-8 rounded-full"},null,8,re),p(" "+h(e.user.name),1)]),f("div",{class:"\r\n          makeBlog\r\n          bg-gray-100\r\n          border\r\n          rounded-md\r\n          flex\r\n          gap-1\r\n          items-center\r\n          px-7\r\n          py-4\r\n          text-xl text-gray-800\r\n          cursor-pointer\r\n          transition-all\r\n          duration-300\r\n          hover:bg-gray-50\r\n        ",onClick:t[0]||(t[0]=t=>e.$router.push("/blog/create"))},se)])):T("",!0),(u(!0),m(L,null,M(e.blogs,((t,n)=>(u(),m("div",le,[f("div",ie,[f("div",ce,[f("img",{src:t.user.profilePic,class:"w-8 h-8 rounded-full",alt:""},null,8,de),f("p",null,h(t.user.name),1)]),f("div",ue,[t.user._id==e.user._id?(u(),m("div",me,[f("img",{class:"w-5 h-5 cursor-pointer",onClick:n=>e.$router.push(`/blog/edit/${t.user.username}/${t.blogTitle+"_"+t.blogId}`),src:"https://img.icons8.com/material-outlined/24/000000/edit--v4.png"},null,8,ge),f("img",{class:"w-6 h-6 cursor-pointer",src:"https://img.icons8.com/color-glass/48/000000/delete-sign.png",onClick:o=>e.deleteBlog({user:t.user.username,blog:t.blogTitle+"_"+t.blogId,index:n})},null,8,pe)])):T("",!0),B(s,{userId:e.user._id,username:t.user.username,blog:t.blogTitle+"_"+t.blogId},null,8,["userId","username","blog"])])]),f("div",{class:"cursor-pointer",onClick:n=>e.$router.push(`/blog/${t.user.username}/${t.blogTitle+"_"+t.blogId}`)},[f("img",{src:t.blogCover,alt:"",class:"w-full rounded mb-5"},null,8,fe),f("div",null,[f("p",be,h(t.blogTitle),1),f("p",null,h(r.updateDateFormat(+t.publishTime)),1)])],8,he)])))),256)),B(l,{loading:e.loading},null,8,["loading"])])};const ve={components:{reactions:X},computed:w(["user"]),data:()=>({blogs:[]}),mounted(){this.getResults()},methods:{updateDateFormat:e=>(C.extend(k),C(e).fromNow()),async getResults(){if(this.$route.query.q){let e=(await W().get(`search?q=${this.$route.query.q}`)).data;this.blogs=e}}}},xe={class:"px-5 md:px-20 lg:px-36 xl:px-56 py-10 bg-green-50 min-h-screen"},we={class:"flex flex-col gap-5"},ye={class:"flex justify-between items-center"},Ce={class:"user flex gap-3 items-center"},ke=["src"],Se=["onClick"],Te=["src"],Le={class:"text-2xl"};var Me,Be;ve.render=function(e,t,n,o,a,r){const s=S("reactions");return u(),m("div",xe,[(u(!0),m(L,null,M(a.blogs,(t=>(u(),m("div",we,[f("div",ye,[f("div",Ce,[f("img",{src:t.user.profilePic,class:"w-8 h-8 rounded-full",alt:""},null,8,ke),f("p",null,h(t.user.name),1)]),f("div",null,[B(s,{userId:e.user._id,username:t.user.username,blog:t.blogTitle+"_"+t.blogId},null,8,["userId","username","blog"])])]),f("div",{class:"cursor-pointer",onClick:n=>e.$router.push(`/blog/${t.user.username}/${t.blogTitle+"_"+t.blogId}`)},[f("img",{src:t.blogCover,alt:"",class:"w-full rounded mb-5"},null,8,Te),f("div",null,[f("p",Le,h(t.blogTitle),1),f("p",null,h(r.updateDateFormat(+t.publishTime)),1)])],8,Se)])))),256))])},Me=window,Be=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n(1).toString();
/**
     * CodeTool for Editor.js
     *
     * @author CodeX (team@ifmo.su)
     * @copyright CodeX 2018
     * @license MIT
     * @version 2.0.0
     */
var r=function(){function e(t){var n=t.data,o=t.config,a=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=a,this.placeholder=this.api.i18n.t(o.placeholder||e.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea",select:"ce-code__languagecode"},this.languageList=[{name:"Select Language",code:""},{name:"HTML",code:"html"},{name:"CSS",code:"css"},{name:"JavaScript",code:"js"},{name:"ABAP",code:"abap"},{name:"Augmented Backus-Naur form",code:"abnf"},{name:"ActionScript",code:"actionscript"},{name:"Ada",code:"ada"},{name:"AL",code:"al"},{name:"ANTLR4",code:"antlr4"},{name:"Apache Configuration",code:"apacheconf"},{name:"APL",code:"apl"},{name:"AppleScript",code:"applescript"},{name:"AQL",code:"aql"},{name:"Arduino",code:"arduino"},{name:"ARFF",code:"arff"},{name:"AsciiDoc",code:"asciidoc"},{name:"6502 Assembly",code:"asm6502"},{name:"ASP.NET (C#)",code:"aspnet"},{name:"AutoHotkey",code:"autohotkey"},{name:"AutoIt",code:"autoit"},{name:"Bash",code:"bash"},{name:"BASIC",code:"basic"},{name:"Batch",code:"batch"},{name:"BBcode",code:"bbcode"},{name:"Bison",code:"bison"},{name:"Backusâ€“Naur form",code:"bnf"},{name:"Brainfuck",code:"brainfuck"},{name:"BrightScript",code:"brightscript"},{name:"Bro",code:"bro"},{name:"C",code:"c"},{name:"Concurnas",code:"concurnas"},{name:"C#",code:"csharp"},{name:"C++",code:"cpp"},{name:"CIL",code:"cil"},{name:"CoffeeScript",code:"coffeescript"},{name:"CMake",code:"cmake"},{name:"Clojure",code:"clojure"},{name:"Crystal",code:"crystal"},{name:"Content-Security-Policy",code:"csp"},{name:"CSS Extras",code:"css-extras"},{name:"D",code:"d"},{name:"Dart",code:"dart"},{name:"DAX",code:"dax"},{name:"Diff",code:"diff"},{name:"DNS zone file",code:"dns-zone-file"},{name:"Docker",code:"docker"},{name:"Extended Backusâ€“Naur form",code:"ebnf"},{name:"Eiffel",code:"eiffel"},{name:"EJS",code:"ejs"},{name:"Elixir",code:"elixir"},{name:"Elm",code:"elm"},{name:"Embedded Lua templating",code:"etlua"},{name:"ERB",code:"erb"},{name:"Erlang",code:"erlang"},{name:"Excel Formula",code:"xlsx"},{name:"F#",code:"fsharp"},{name:"Factor",code:"factor"},{name:"Firestore security rules",code:"firestore-security-rules"},{name:"Flow",code:"flow"},{name:"Fortran",code:"fortran"},{name:"FreeMarker Template Language",code:"ftl"},{name:"G-code",code:"gcode"},{name:"GDScript",code:"gdscript"},{name:"GEDCOM",code:"gedcom"},{name:"Gherkin",code:"gherkin"},{name:"Git",code:"git"},{name:"GLSL",code:"glsl"},{name:"GameMaker Language",code:"gml"},{name:"Go",code:"go"},{name:"GraphQL",code:"graphql"},{name:"Groovy",code:"groovy"},{name:"Haml",code:"haml"},{name:"Handlebars",code:"handlebars"},{name:"Haskell",code:"haskell"},{name:"Haxe",code:"haxe"},{name:"HCL",code:"hcl"},{name:"HLSL",code:"hlsl"},{name:"HTTP",code:"http"},{name:"HTTP Public-Key-Pins",code:"hpkp"},{name:"HTTP Strict-Transport-Security",code:"hsts"},{name:"IchigoJam",code:"ichigojam"},{name:"Icon",code:"icon"},{name:"Structured Text (IEC 61131-3)",code:"iecst"},{name:"Inform 7",code:"inform7"},{name:"Ini",code:"ini"},{name:"Io",code:"io"},{name:"J",code:"j"},{name:"Java",code:"java"},{name:"JavaDoc",code:"javadoc"},{name:"JavaDoc-like",code:"javadoclike"},{name:"Java stack trace",code:"javastacktrace"},{name:"Jinja2",code:"jinja2"},{name:"Jolie",code:"jolie"},{name:"JQ",code:"jq"},{name:"JSDoc",code:"jsdoc"},{name:"JS Extras",code:"js-extras"},{name:"JS Templates",code:"js-templates"},{name:"JSON",code:"json"},{name:"JSONP",code:"jsonp"},{name:"JSON5",code:"json5"},{name:"Julia",code:"julia"},{name:"Keyman",code:"keyman"},{name:"Kotlin",code:"kotlin"},{name:"LaTeX",code:"latex"},{name:"Latte",code:"latte"},{name:"Less",code:"less"},{name:"LilyPond",code:"lilypond"},{name:"Liquid",code:"liquid"},{name:"Lisp",code:"lisp"},{name:"LiveScript",code:"livescript"},{name:"LLVM IR",code:"llvm"},{name:"LOLCODE",code:"lolcode"},{name:"Lua",code:"lua"},{name:"Makefile",code:"makefile"},{name:"Markdown",code:"markdown"},{name:"Markup templating",code:"markup-templating"},{name:"MATLAB",code:"matlab"},{name:"MEL",code:"mel"},{name:"Mizar",code:"mizar"},{name:"Monkey",code:"monkey"},{name:"MoonScript",code:"moonscript"},{name:"N1QL",code:"n1ql"},{name:"N4JS",code:"n4js"},{name:"Nand To Tetris HDL",code:"nand2tetris-hdl"},{name:"NASM",code:"nasm"},{name:"NEON",code:"neon"},{name:"nginx",code:"nginx"},{name:"Nim",code:"nim"},{name:"Nix",code:"nix"},{name:"NSIS",code:"nsis"},{name:"Objective-C",code:"objectivec"},{name:"OCaml",code:"ocaml"},{name:"OpenCL",code:"opencl"},{name:"Oz",code:"oz"},{name:"PARI/GP",code:"parigp"},{name:"Parser",code:"parser"},{name:"Pascal",code:"pascal"},{name:"Pascaligo",code:"pascaligo"},{name:"PC-Axis",code:"pcaxis"},{name:"PeopleCode",code:"peoplecode"},{name:"Perl",code:"perl"},{name:"PHP",code:"php"},{name:"PHPDoc",code:"phpdoc"},{name:"PHP Extras",code:"php-extras"},{name:"PL/SQL",code:"plsql"},{name:"PowerQuery",code:"powerquery"},{name:"PowerShell",code:"powershell"},{name:"Processing",code:"processing"},{name:"Prolog",code:"prolog"},{name:".properties",code:"properties"},{name:"Protocol Buffers",code:"protobuf"},{name:"Pug",code:"pug"},{name:"Puppet",code:"puppet"},{name:"Pure",code:"pure"},{name:"PureBasic",code:"purebasic"},{name:"Python",code:"python"},{name:"Q (kdb+ database)",code:"q"},{name:"QML",code:"qml"},{name:"Qore",code:"qore"},{name:"R",code:"r"},{name:"Racket",code:"racket"},{name:"React JSX",code:"jsx"},{name:"React TSX",code:"tsx"},{name:"Ren'py",code:"renpy"},{name:"Reason",code:"reason"},{name:"Regex",code:"regex"},{name:"reST (reStructuredText)",code:"rest"},{name:"Rip",code:"rip"},{name:"Roboconf",code:"roboconf"},{name:"Robot Framework",code:"robotframework"},{name:"Ruby",code:"ruby"},{name:"Rust",code:"rust"},{name:"SAS",code:"sas"},{name:"Sass (Sass)",code:"sass"},{name:"Sass (Scss)",code:"scss"},{name:"Scala",code:"scala"},{name:"Scheme",code:"scheme"},{name:"Shell session",code:"shell-session"},{name:"Smalltalk",code:"smalltalk"},{name:"Smarty",code:"smarty"},{name:"Solidity (Ethereum)",code:"solidity"},{name:"Solution file",code:"solution-file"},{name:"Soy (Closure Template)",code:"soy"},{name:"SPARQL",code:"sparql"},{name:"Splunk SPL",code:"splunk-spl"},{name:"SQF: Status Quo Function (Arma 3)",code:"sqf"},{name:"SQL",code:"sql"},{name:"Stylus",code:"stylus"},{name:"Swift",code:"swift"},{name:"TAP",code:"tap"},{name:"Tcl",code:"tcl"},{name:"Textile",code:"textile"},{name:"TOML",code:"toml"},{name:"Template Toolkit 2",code:"tt2"},{name:"Turtle",code:"turtle"},{name:"Twig",code:"twig"},{name:"TypeScript",code:"typescript"},{name:"T4 Text Templates (C#)",code:"t4-cs"},{name:"T4 Text Templates (VB)",code:"t4-vb"},{name:"T4 templating",code:"t4-templating"},{name:"UnrealScript",code:"unrealscript"},{name:"Vala",code:"vala"},{name:"VB.Net",code:"vbnet"},{name:"Velocity",code:"velocity"},{name:"Verilog",code:"verilog"},{name:"VHDL",code:"vhdl"},{name:"vim",code:"vim"},{name:"Visual Basic",code:"visual-basic"},{name:"WarpScript",code:"warpscript"},{name:"WebAssembly",code:"wasm"},{name:"Wiki markup",code:"wiki"},{name:"Xeora",code:"xeora"},{name:"XML doc (.net)",code:"xml-doc"},{name:"Xojo (REALbasic)",code:"xojo"},{name:"XQuery",code:"xquery"},{name:"YAML",code:"yaml"},{name:"Zig",code:"zig"}],this.nodes={holder:null,textarea:null,picker:null},this.data={code:n.code||"",languageCode:n.languageCode||""},this.nodes.holder=this.drawView()}return a(e,null,[{key:"enableLineBreaks",get:function(){return!0}}]),a(e,[{key:"drawView",value:function(){var e=document.createElement("div"),t=document.createElement("textarea"),n=document.createElement("select");for(let a in this.languageList){var o=document.createElement("option");o.text=this.languageList[a].name,o.value=this.languageList[a].code,n.appendChild(o)}return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),n.classList.add(this.CSS.select),t.classList.add(this.CSS.textarea,this.CSS.input),t.textContent=this.data.code,n.value=this.data.languageCode,t.placeholder=this.placeholder,e.appendChild(n),e.appendChild(t),this.nodes.textarea=t,this.nodes.picker=n,e}},{key:"render",value:function(){return this.nodes.holder}},{key:"save",value:function(e){return{code:e.querySelector("textarea").value,languageCode:e.querySelector("select").value}}},{key:"onPaste",value:function(e){var t=e.detail.data;this.data={code:t.textContent}}},{key:"data",get:function(){return this._data},set:function(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.textContent=e.code),this.nodes.picker&&(this.nodes.picker.value=e.languageCode)}}],[{key:"toolbox",get:function(){return{icon:'<svg width="14" height="14" viewBox="0 -1 14 14" xmlns="http://www.w3.org/2000/svg" > <path d="M3.177 6.852c.205.253.347.572.427.954.078.372.117.844.117 1.417 0 .418.01.725.03.92.02.18.057.314.107.396.046.075.093.117.14.134.075.027.218.056.42.083a.855.855 0 0 1 .56.297c.145.167.215.38.215.636 0 .612-.432.934-1.216.934-.457 0-.87-.087-1.233-.262a1.995 1.995 0 0 1-.853-.751 2.09 2.09 0 0 1-.305-1.097c-.014-.648-.029-1.168-.043-1.56-.013-.383-.034-.631-.06-.733-.064-.263-.158-.455-.276-.578a2.163 2.163 0 0 0-.505-.376c-.238-.134-.41-.256-.519-.371C.058 6.76 0 6.567 0 6.315c0-.37.166-.657.493-.846.329-.186.56-.342.693-.466a.942.942 0 0 0 .26-.447c.056-.2.088-.42.097-.658.01-.25.024-.85.043-1.802.015-.629.239-1.14.672-1.522C2.691.19 3.268 0 3.977 0c.783 0 1.216.317 1.216.921 0 .264-.069.48-.211.643a.858.858 0 0 1-.563.29c-.249.03-.417.076-.498.126-.062.04-.112.134-.139.291-.031.187-.052.562-.061 1.119a8.828 8.828 0 0 1-.112 1.378 2.24 2.24 0 0 1-.404.963c-.159.212-.373.406-.64.583.25.163.454.342.612.538zm7.34 0c.157-.196.362-.375.612-.538a2.544 2.544 0 0 1-.641-.583 2.24 2.24 0 0 1-.404-.963 8.828 8.828 0 0 1-.112-1.378c-.009-.557-.03-.932-.061-1.119-.027-.157-.077-.251-.14-.29-.08-.051-.248-.096-.496-.127a.858.858 0 0 1-.564-.29C8.57 1.401 8.5 1.185 8.5.921 8.5.317 8.933 0 9.716 0c.71 0 1.286.19 1.72.574.432.382.656.893.671 1.522.02.952.033 1.553.043 1.802.009.238.041.458.097.658a.942.942 0 0 0 .26.447c.133.124.364.28.693.466a.926.926 0 0 1 .493.846c0 .252-.058.446-.183.58-.109.115-.281.237-.52.371-.21.118-.377.244-.504.376-.118.123-.212.315-.277.578-.025.102-.045.35-.06.733-.013.392-.027.912-.042 1.56a2.09 2.09 0 0 1-.305 1.097c-.2.323-.486.574-.853.75a2.811 2.811 0 0 1-1.233.263c-.784 0-1.216-.322-1.216-.934 0-.256.07-.47.214-.636a.855.855 0 0 1 .562-.297c.201-.027.344-.056.418-.083.048-.017.096-.06.14-.134a.996.996 0 0 0 .107-.396c.02-.195.031-.502.031-.92 0-.573.039-1.045.117-1.417.08-.382.222-.701.427-.954z" /> </svg>',title:"Code"}}},{key:"DEFAULT_PLACEHOLDER",get:function(){return"Write or Paste Code here"}},{key:"pasteConfig",get:function(){return{tags:["pre"]}}},{key:"sanitize",get:function(){return{code:!0}}}]),e}();e.exports=r},function(e,t,n){var o=n(2),a=n(3);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]),o(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,n){var o,a,r=(a={},function(e){if(void 0===a[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}a[e]=t}return a[e]}),s=[];function l(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},o=[],a=0;a<e.length;a++){var r=e[a],i=t.base?r[0]+t.base:r[0],c=n[i]||0,d="".concat(i," ").concat(c);n[i]=c+1;var u=l(d),m={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(s[u].references++,s[u].updater(m)):s.push({identifier:d,updater:f(m,t),references:1}),o.push(d)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var a=n.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function m(e,t,n,o){var a=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var r=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function g(e,t,n){var o=n.css,a=n.media,r=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,h=0;function f(e,t){var n,o,a;if(t.singleton){var r=h++;n=p||(p=c(t)),o=m.bind(null,n,r,!1),a=m.bind(null,n,r,!0)}else n=c(t),o=g.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var a=l(n[o]);s[a].references--}for(var r=i(e,t),c=0;c<n.length;c++){var d=l(n[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}n=r}}}},function(e,t,n){(t=n(4)(!1)).push([e.i,".ce-code__textarea {\n    min-height: 200px;\n    font-family: Menlo, Monaco, Consolas, Courier New, monospace;\n    color: #41314e;\n    line-height: 1.6em;\n    font-size: 12px;\n    background: #f8f7fa;\n    border: 1px solid #f1f1f4;\n    box-shadow: none;\n    white-space: pre;\n    word-wrap: normal;\n    overflow-x: auto;\n    resize: vertical;\n}\n\n.ce-code__languagecode {\n    color: #41314e;\n    background: #f8f7fa;\n    font-size: 14px;\n    padding: 1px;\n    margin: 5px 0px;\n    border-radius: .5em;\n}\n",""]),e.exports=t},function(e,t,n){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,a,r=e[1]||"",s=e[3];if(!s)return r;if(t&&"function"==typeof btoa){var l=(n=s,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(a," */")),i=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[r].concat(i).concat([l]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(a[s]=!0)}for(var l=0;l<e.length;l++){var i=[].concat(e[l]);o&&a[i[0]]||(n&&(i[2]?i[2]="".concat(n," and ").concat(i[2]):i[2]=n),t.push(i))}},t}}])},"object"==typeof exports&&"object"==typeof module?module.exports=Be():"function"==typeof define&&define.amd?define([],Be):"object"==typeof exports?exports.CodeTool=Be():Me.CodeTool=Be();const je={props:{text:{default:{}}},data:()=>({editor:null}),created(){const e=new j({autofocus:!0,tools:{header:P,image:{class:$,config:{endpoints:{byFile:"http://localhost:8000/upload/"}}},list:D,checklist:E,quote:I,warning:A,CodeTool:CodeTool,table:N,underline:U,inlineCode:z,marker:_},placeholder:"Yeah, I'm unstoppable today ðŸ’ª",data:this.text});this.editor=e},methods:{async save(){return(await this.editor.save()).blocks}}},Pe={id:"editorjs",class:"reset"};je.render=function(e,t,n,o,a,r){return u(),m("div",Pe)};const $e={data:()=>({coverName:""}),methods:{async uploadCover(){if(this.$refs.file.files[0]){const e=new FormData;e.append("image",this.$refs.file.files[0]),this.coverName="waitin.....";let t=await W().post("/upload/cover",e,{headers:{"Content-Type":"multipart/form-data"}});this.$emit("upload",t.data.file.url),this.coverName=t.data.file.name}}},emits:["upload"]},De={class:"flex gap-4 items-center"},Ee=[f("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[f("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 16L7.49619 12.5067C8.2749 11.5161 9.76453 11.4837 10.5856 12.4395L13 15.25M10.915 12.823C11.9522 11.5037 13.3973 9.63455 13.4914 9.51294C13.4947 9.50859 13.4979 9.50448 13.5013 9.50017C14.2815 8.51598 15.7663 8.48581 16.5856 9.43947L19 12.25M6.75 19.25H17.25C18.3546 19.25 19.25 18.3546 19.25 17.25V6.75C19.25 5.64543 18.3546 4.75 17.25 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V17.25C4.75 18.3546 5.64543 19.25 6.75 19.25Z"})],-1),f("p",null,"Cover Pic",-1)];$e.render=function(e,t,n,o,a,r){return u(),m(L,null,[f("input",{type:"file",accept:".jpeg,.jpg,.png,image/jpeg,image/png",class:"hidden",ref:"file",onChange:t[0]||(t[0]=(...e)=>r.uploadCover&&r.uploadCover(...e))},null,544),f("div",De,[f("button",{class:"button bg-green-100 hover:bg-green-300",onClick:t[1]||(t[1]=t=>e.$refs.file.click())},Ee),p(" "+h(a.coverName),1)])],64)};const Ie={data:()=>({tags:[]}),components:{imageUpload:$e},methods:{addTag(e){e.preventDefault();let t=this.$refs.tagInput.value.trim();t.length>0&&!this.tags.includes(t)&&this.tags.push(t),this.$refs.tagInput.value=""},addTagByPastedText(e){e.preventDefault(),e.clipboardData.getData("Text").split(",").forEach((e=>{this.tags.push(e.trim().replace(" ","-"))}))},removeTagByclick(e){this.tags.splice(e,1)},removeTag(e,t){e.target.value||this.tags.splice(t,1)}}},Ae={class:"\r\n      absolute\r\n      bg-purple-400\r\n      h-auto\r\n      w-80\r\n      rounded-2xl\r\n      right-5\r\n      top-20\r\n      opacity-90\r\n      flex flex-col\r\n      justify-center\r\n      items-center\r\n      gap-3\r\n      py-7\r\n      px-3\r\n      z-50\r\n    "},Ne=f("label",{class:"text-xl"},"Tags",-1),Ue={class:"\r\n        tags\r\n        w-full\r\n        flex\r\n        gap-1\r\n        px-2\r\n        py-1\r\n        border-2 border-purple-900\r\n        rounded-lg\r\n        flex-wrap\r\n      "},ze={class:"px-3 py-1 bg-gray-200 rounded-sm"},_e=["onClick"];Ie.render=function(e,t,n,o,a,r){return u(),m("div",Ae,[f("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"\r\n        close\r\n        absolute\r\n        top-2\r\n        right-3\r\n        px-2\r\n        py-1\r\n        bg-red-600\r\n        opacity-70\r\n        rounded-md\r\n      "}," X "),Ne,f("div",Ue,[(u(!0),m(L,null,M(a.tags,((e,t)=>(u(),m("div",ze,[p(h(e)+" ",1),f("button",{onClick:e=>r.removeTagByclick(t),class:"text-red-500"},"x",8,_e)])))),256)),f("input",{type:"text",onPaste:t[1]||(t[1]=(...e)=>r.addTagByPastedText&&r.addTagByPastedText(...e)),onKeydown:[t[2]||(t[2]=q(((...e)=>r.addTag&&r.addTag(...e)),["enter"])),t[3]||(t[3]=q(((...e)=>r.addTag&&r.addTag(...e)),["space"])),t[4]||(t[4]=q(((...e)=>r.addTag&&r.addTag(...e)),[","])),t[5]||(t[5]=q((e=>r.removeTag(e,a.tags.length-1)),["delete"]))],ref:"tagInput",class:"bg-transparent placeholder-black focus:outline-none",placeholder:"Enter a tag"},null,544)]),f("button",{onClick:t[6]||(t[6]=t=>{r.addTag(t),e.$emit("done",a.tags)}),class:"button bg-green-300"}," Done ")])};const qe={data:()=>({isMobile:!1,blogTitle:"",showSettings:!1,showError:!1,tags:[],coverUrl:"",saveErr:""}),components:{editor:je,settingsModal:Ie,coverUpload:$e},mounted(){this.isMobile=window.innerWidth<650,window.onresize=()=>{this.isMobile=window.innerWidth<650}},methods:i(l({},y(["redirectUser","postBlog"])),{async save(){let e=await this.$refs.editor.save();if(e.length)if(this.coverUrl)if(this.blogTitle)if(this.tags.length){let t=await this.postBlog({blog:e,blogCover:this.coverUrl,blogTitle:this.blogTitle,tags:this.tags});this.$router.push(`/blog/${t.user.username}/${t.blogTitle}_${t.blogId}`)}else this.toast("danger","Blog tags are required . It will rank your blogs better.");else this.toast("danger","Blog title is required . People will decide to click on the blog by it.");else this.toast("danger","Blog cover is required . People will first see it");else this.toast("danger","Blog content is required")},getTags(e){this.showSettings=!1,this.tags=e},upload(e){this.coverUrl=e},toast(e,t,n){d({title:t,description:n},{timeout:5e3,position:"bottom-right",type:e,transition:"bounce",showIcon:!0})}}),created(){this.redirectUser()}},Oe={key:0,class:"wrapper min-h-screen w-full flex justify-center bg-green-50"},He={class:"blog-creator min-h-full w-9/12 flex flex-col gap-10 pt-5"},Re={class:"header flex justify-between"},Fe=f("button",{class:"\r\n            button\r\n            border-yellow-200 border-solid border-2\r\n            hover:bg-yellow-200\r\n          "},[f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-4 h-4"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]),f("p",null,"Articles")],-1),Je={class:"left flex gap-5"},Ve=[f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"stroke-1 w-7"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),f("p",null,"Settings",-1)],Qe={class:"content flex flex-col gap-5"},Ge={key:1,class:"\r\n      w-screen\r\n      h-screen\r\n      flex\r\n      justify-center\r\n      items-center\r\n      text-xl text-center\r\n      bg-green-50\r\n    "},We=[f("p",null,"Blog editing is not supported on mobile devices",-1)];qe.render=function(e,t,n,o,a,r){const s=S("coverUpload"),l=S("editor",!0),i=S("settings-modal");return a.isMobile?(u(),m("div",Ge,We)):(u(),m("div",Oe,[f("div",He,[f("div",Re,[Fe,f("div",Je,[f("button",{class:"\r\n              button\r\n              border-purple-200 border-solid border-2\r\n              hover:bg-purple-200\r\n            ",onClick:t[0]||(t[0]=e=>a.showSettings=!a.showSettings)},Ve),f("button",{onClick:t[1]||(t[1]=(...e)=>r.save&&r.save(...e)),class:"button bg-green-300 hover:bg-green-100"}," Save ")])]),f("div",Qe,[B(s,{onUpload:r.upload},null,8,["onUpload"]),b(f("input",{type:"text",placeholder:"Start with Title ðŸ˜€","onUpdate:modelValue":t[2]||(t[2]=e=>a.blogTitle=e),class:"blogTitle text-3xl focus:outline-none w-full bg-transparent"},null,512),[[O,a.blogTitle]]),B(l,{ref:"editor"},null,512)]),b(B(i,{onClose:t[3]||(t[3]=e=>a.showSettings=!1),onDone:r.getTags},null,8,["onDone"]),[[v,a.showSettings]])])]))};const Xe={components:{reactions:X},props:["cover","blogTitle","publishTime","blogUser"],computed:i(l({},w(["user"])),{publishTimeHMS(){return C(+this.publishTime).format("dddd, DD MMM YYYY, hh:mm a")}})},Ke={class:"blog_header flex flex-col gap-3 text-base"},Ye=["src"],Ze={class:"text-3xl font-bold"},et={class:"flex justify-between pr-3"},tt={class:"user flex gap-2 items-center"},nt=["src"],ot={class:"text-lg"};Xe.render=function(e,t,n,o,a,r){const s=S("reactions");return u(),m("div",Ke,[f("img",{src:n.cover,class:"cover rounded-md",width:"1200"},null,8,Ye),f("h2",Ze,h(n.blogTitle),1),f("p",null,h(r.publishTimeHMS),1),f("div",et,[f("div",tt,[f("img",{src:n.blogUser.profilePic,class:"w-10 h-10 rounded-full"},null,8,nt),f("p",ot,h(n.blogUser.username),1)]),B(s,{userId:e.user._id,username:e.$route.params.user,blog:e.$route.params.blog},null,8,["userId","username","blog"])])])};const at={computed:l({},w(["user"])),props:["comment","index"],data:()=>({loading:!1,isEditing:!1,displaySeeMore:!0}),methods:{async removeComment(){await W().delete(`/blogs/comment${this.$route.fullPath.replace("/blog","")}/${this.comment.id}`),this.$emit("delete")},async editComment(){if(this.isEditing=!this.isEditing,!this.isEditing){let e=this.$refs[this.comment.id].innerText;this.comment.text=e,await W().put(`/blogs/comment${this.$route.fullPath.replace("/blog","")}/${this.comment.id}`,{text:e})}},updateDateFormat:e=>(C.extend(k),C(e).fromNow())},emits:["delete"],created(){}},rt={class:"comment px-5 py-4 flex flex-col gap-4 bg-green-200 rounded-md"},st={class:"top flex justify-between"},lt={class:"user flex gap-3 items-center"},it=["src"],ct={class:"left leading-5"},dt={class:"text-sm"},ut={key:0,class:"functionalities flex gap-3"},mt=["contenteditable"],gt=[f("b",null,"... See more",-1)];at.render=function(e,t,n,o,a,r){return u(),m("div",rt,[f("div",st,[f("div",lt,[f("img",{src:n.comment.user.profilePic,class:"w-10 h-10 rounded-full"},null,8,it),f("div",ct,[f("p",null,h(n.comment.user.name),1),f("p",dt,h(r.updateDateFormat(n.comment.publishTime)),1)])]),n.comment.user.id==e.user.id?(u(),m("div",ut,[f("button",{onClick:t[0]||(t[0]=t=>r.editComment(e.commentIndex)),class:"edit px-2 bg-yellow-400 hover:bg-yellow-500 transition-all duration-300 h-6 rounded-sm"},h(a.isEditing?"Done":"Edit"),1),f("button",{onClick:t[1]||(t[1]=t=>r.removeComment(e.commentIndex)),class:"delete px-2 bg-red-400 hover:bg-red-500 transition-all duration-300 h-6 rounded-sm"}," Delete ")])):T("",!0)]),f("div",{class:g(["content leading-7",{editing:a.isEditing}]),contenteditable:a.isEditing,ref:n.comment.id},[p(h(this.comment.text.length>=200&&!this.isEditing&&a.displaySeeMore?n.comment.text.substring(0,200):n.comment.text)+" ",1),n.comment.text.length>=200&&!a.isEditing&&a.displaySeeMore?(u(),m("span",{key:0,class:"cursor-pointer",onClick:t[2]||(t[2]=e=>a.displaySeeMore=!1)},gt)):T("",!0)],10,mt)])};const pt={components:{comments:at,loader:Z},computed:w(["user"]),data:()=>({existingComment:"",commentsInThisSession:[],comments:[],pageNo:1,loading:!1}),methods:{async saveComment(){if(this.existingComment){let e=await W().post(`/blogs/comment${this.$route.fullPath.replace("/blog","")}`,{text:this.existingComment});this.comments.unshift(e.data),this.existingComment=""}},async getComments(){this.loading=!0;let e=await W().get(`/blogs/comment${this.$route.fullPath.replace("/blog","")}/${this.pageNo}`);e&&this.comments.push(...e.data),this.loading=!1},handleScroll(){const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;n+e>=t-5&&4*this.pageNo==this.comments.length&&(this.pageNo++,this.getComments())}},mounted(){this.getComments(),window.addEventListener("scroll",this.handleScroll)}},ht={key:0,class:"makeComment flex flex-col gap-5"},ft={class:"comments flex flex-col gap-8"};pt.render=function(e,t,n,o,a,r){const s=S("comments"),l=S("loader");return u(),m(L,null,[e.user?(u(),m("div",ht,[b(f("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.existingComment=e),placeholder:"Write a comment",class:"focus:outline-none p-3 resize-none h-40 bg-gray-200 rounded-md"},null,512),[[O,a.existingComment]]),f("button",{onClick:t[1]||(t[1]=(...e)=>r.saveComment&&r.saveComment(...e)),class:"py-1 bg-green-300 hover:bg-green-500 transition-all duration-300 rounded-sm w-20"}," Submit ")])):T("",!0),f("div",ft,[(u(!0),m(L,null,M(a.comments,((e,t)=>(u(),H(s,{key:e.id,comment:e,index:t,onDelete:e=>a.comments.splice(t,1)},null,8,["comment","index","onDelete"])))),128)),B(l,{loading:a.loading},null,8,["loading"])])],64)};const bt={components:{Header:Xe,commentBox:pt},data(){return{user:this.$route.params.user,blogTitle:this.$route.params.blog.split("_")[0].replace("%20"," "),blogId:this.$route.params.blog.split("_")[1],blogData:{}}},methods:l({},y(["getBlog"])),async created(){this.blogData=await this.getBlog({user:this.user,blog:`${this.blogTitle}_${this.blogId}`})}},vt={class:"\r\n      flex flex-col\r\n      gap-10\r\n      px-5\r\n      md:px-20\r\n      lg:px-36\r\n      xl:px-56\r\n      py-10\r\n      bg-green-50\r\n      min-h-screen\r\n    "},xt=["innerHTML"];bt.render=function(e,t,n,o,a,r){const s=S("Header"),l=S("commentBox");return u(),m("div",vt,[a.blogData.user?(u(),H(s,{key:0,cover:a.blogData.blogCover,blogTitle:a.blogTitle,publishTime:a.blogData.publishTime,blogUser:a.blogData.user},null,8,["cover","blogTitle","publishTime","blogUser"])):T("",!0),f("div",{class:"blog_content reset flex flex-col gap-5 text-lg leading-10",innerHTML:a.blogData.html},null,8,xt),B(l)])};const wt={data(){return{isMobile:!1,blogTitle:"",showSettings:!1,showError:!1,tags:[],coverUrl:"",saveErr:"",username:this.$route.params.user,blogTitle:this.$route.params.blog.split("_")[0].replace("%20"," "),blogId:this.$route.params.blog.split("_")[1],blog:{},textLoaded:!1}},computed:w(["user"]),components:{editor:je,settingsModal:Ie,coverUpload:$e},mounted(){this.isMobile=window.innerWidth<650,window.onresize=()=>{this.isMobile=window.innerWidth<650}},methods:i(l({},y(["redirectUser","getBlog","postBlog"])),{async save(){let e=await this.$refs.editor.save();e.length?this.coverUrl?this.blogTitle?this.tags.length?(await this.postBlog({blog:e,blogCover:this.coverUrl,blogTitle:this.blogTitle,tags:this.tags,edit:!0,blogId:this.blogId}),this.$router.push(`/blog/${this.user.username}/${this.blogTitle}_${this.blogId}`)):this.toast("danger","Blog tags are required . It will rank your blogs better."):this.toast("danger","Blog title is required . People will decide to click on the blog by it."):this.toast("danger","Blog cover is required . People will first see it"):this.toast("danger","Blog content is required")},getTags(e){this.showSettings=!1,this.tags=e},upload(e){this.coverUrl=e},toast(e,t,n){d({title:t,description:n},{timeout:5e3,position:"bottom-right",type:e,transition:"bounce",showIcon:!0})}}),async created(){this.redirectUser();let e=await this.getBlog({user:this.username,blog:`${this.blogTitle}_${this.blogId}`,edit:!0});this.blog={time:e.publishTime,blocks:e.blog,version:"2.22.2"},this.toast("success","Cover was uploaded ! But the name wasn't saved"),this.tags=e.tags,this.$refs.settings.tags=e.tags,this.coverUrl=e.blogCover,this.textLoaded=!0}},yt={key:0,class:"wrapper min-h-screen w-full flex justify-center bg-green-50"},Ct={class:"blog-creator min-h-full w-9/12 flex flex-col gap-10 pt-5"},kt={class:"header flex justify-between"},St=f("button",{class:"\r\n            button\r\n            border-yellow-200 border-solid border-2\r\n            hover:bg-yellow-200\r\n          "},[f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-4 h-4"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]),f("p",null,"Articles")],-1),Tt={class:"left flex gap-5"},Lt=[f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"stroke-1 w-7"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),f("p",null,"Settings",-1)],Mt={class:"content flex flex-col gap-5"},Bt={key:1,class:"\r\n      w-screen\r\n      h-screen\r\n      flex\r\n      justify-center\r\n      items-center\r\n      text-xl text-center\r\n      bg-green-50\r\n    "},jt=[f("p",null,"Blog editing is not supported on mobile devices",-1)];wt.render=function(e,t,n,o,a,r){const s=S("coverUpload"),l=S("editor"),i=S("settings-modal");return a.isMobile?(u(),m("div",Bt,jt)):(u(),m("div",yt,[f("div",Ct,[f("div",kt,[St,f("div",Tt,[f("button",{class:"\r\n              button\r\n              border-purple-200 border-solid border-2\r\n              hover:bg-purple-200\r\n            ",onClick:t[0]||(t[0]=e=>a.showSettings=!a.showSettings)},Lt),f("button",{onClick:t[1]||(t[1]=(...e)=>r.save&&r.save(...e)),class:"button bg-green-300 hover:bg-green-100"}," Save ")])]),f("div",Mt,[B(s,{onUpload:r.upload},null,8,["onUpload"]),b(f("input",{type:"text",placeholder:"Start with Title ðŸ˜€","onUpdate:modelValue":t[2]||(t[2]=e=>a.blogTitle=e),class:"blogTitle text-3xl focus:outline-none w-full bg-transparent"},null,512),[[O,a.blogTitle]]),a.textLoaded?(u(),H(l,{key:0,text:a.blog,ref:"editor"},null,8,["text"])):T("",!0)]),b(B(i,{ref:"settings",onClose:t[3]||(t[3]=e=>a.showSettings=!1),onDone:r.getTags},null,8,["onDone"]),[[v,a.showSettings]])])]))};const Pt=[{path:"/",name:"home",component:te},{path:"/search",name:"search",component:ve},{path:"/blog/create",name:"editor",component:qe},{path:"/blog/:user/:blog",name:"getBlog",component:bt},{path:"/blog/edit/:user/:blog",name:"editBlog",component:wt}],$t=R({history:F(),routes:Pt}),Dt=J({state:()=>({user:{},blogs:[],loading:!0}),mutations:{updateUser(e,t){e.user=t},loading(e,t){e.loading=t},addBlogs(e,t){e.blogs.push(...t)},deleteBlog(e,t){e.blogs.splice(t,1)}},actions:{async isAuthenticated(e){try{let t=(await W().get("/auth/me",{withCredentials:!0})).data;e.commit("updateUser",t)}catch(Me){e.commit("updateUser","")}},async redirectUser(e){await Dt.dispatch("isAuthenticated"),e.state.user||$t.push("/")},async getBlogs(e,t){e.commit("loading",!0);let n=await W().get(`/blogs/${t}`);n&&e.commit("addBlogs",n.data),e.commit("loading",!1)},getBlog:async(e,{user:t,blog:n,edit:o=!1})=>(await W().get(`/blogs/blog/${o?"edit/":""}${t}/${n}`)).data,postBlog:async(e,{blog:t,blogTitle:n,blogCover:o,tags:a,blogId:r="",edit:s=!1})=>(await W().post("/blogs/"+(s?`blog/edit/${e.state.user.username}/${n}_${r}`:"newBlog"),{blog:t,blogTitle:n,blogCover:o,tags:a})).data,async deleteBlog(e,{user:t,blog:n,index:o}){await W().delete(`blogs/blog/delete/${t}/${n}`),e.commit("deleteBlog",o)}}});Dt.dispatch("isAuthenticated");const Et={computed:w(["user"]),data:()=>({showSearch:!1,searchText:"",isMobile:!1}),methods:{search(){this.searchText&&location.assign(`/search?q=${this.searchText}`)}},mounted(){this.isMobile=window.innerWidth<768,window.addEventListener("resize",(()=>{this.isMobile=window.innerWidth<768}))}},It={class:"fixed w-screen"},At={class:"\r\n        flex\r\n        justify-between\r\n        bg-gray-800\r\n        px-10\r\n        py-2\r\n        h-12\r\n        items-center\r\n        text-green-50 text-2xl\r\n        relative\r\n      "},Nt=p("Tlog"),Ut={class:"\r\n          relative\r\n          hidden\r\n          text-base\r\n          w-full\r\n          h-full\r\n          mx-5\r\n          md:block\r\n          lg:mx-10\r\n          md:w-6/12\r\n        "},zt=[f("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},null,-1)],_t=[f("svg",{width:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"text-gray-500 fill-current dark:text-gray-400 w-6 h-6"},[f("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1)],qt={key:1,class:"md:hidden cursor-pointer"},Ot=[f("a",{href:"https://za011b128-z699745d2-gtw.qovery.io/auth/logout"},[f("svg",{class:"text-gray-500 fill-current dark:text-gray-400 w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330",style:{"enable-background":"new 0 0 330 330"},"xml:space":"preserve"},[f("path",{d:"M51.213 180h173.785c8.284 0 15-6.716 15-15s-6.716-15-15-15H51.213l19.394-19.393c5.858-5.857 5.858-15.355 0-21.213-5.856-5.858-15.354-5.858-21.213 0L4.397 154.391c-.348.347-.676.71-.988 1.09-.076.093-.141.193-.215.288-.229.291-.454.583-.66.891-.06.09-.109.185-.168.276-.206.322-.408.647-.59.986-.035.067-.064.138-.099.205-.189.367-.371.739-.53 1.123-.02.047-.034.097-.053.145-.163.404-.314.813-.442 1.234-.017.053-.026.108-.041.162-.121.413-.232.83-.317 1.257-.025.127-.036.258-.059.386-.062.354-.124.708-.159 1.069a14.612 14.612 0 0 0 0 2.995c.035.366.099.723.16 1.08.022.124.033.251.058.374.086.431.196.852.318 1.269.015.049.024.101.039.15.129.423.28.836.445 1.244.018.044.031.091.05.135.16.387.343.761.534 1.13.033.065.061.133.095.198.184.341.387.669.596.994.056.088.104.181.162.267.207.309.434.603.662.895.073.094.138.193.213.285.313.379.641.743.988 1.09l44.997 44.997C52.322 223.536 56.161 225 60 225s7.678-1.464 10.606-4.394c5.858-5.858 5.858-15.355 0-21.213L51.213 180z"}),f("path",{d:"M207.299 42.299c-40.944 0-79.038 20.312-101.903 54.333-4.62 6.875-2.792 16.195 4.083 20.816 6.876 4.62 16.195 2.794 20.817-4.083 17.281-25.715 46.067-41.067 77.003-41.067C258.414 72.299 300 113.884 300 165s-41.586 92.701-92.701 92.701c-30.845 0-59.584-15.283-76.878-40.881-4.639-6.865-13.961-8.669-20.827-4.032-6.864 4.638-8.67 13.962-4.032 20.826 22.881 33.868 60.913 54.087 101.737 54.087C274.956 287.701 330 232.658 330 165S274.956 42.299 207.299 42.299z"})])],-1)],Ht={key:2,class:"navUser"},Rt={class:"flex gap-3 items-center text-base"},Ft=["src"],Jt={class:"hidden md:block"},Vt=f("a",{href:"https://za011b128-z699745d2-gtw.qovery.io/auth/logout",class:"\r\n            logout\r\n            hidden\r\n            md:flex\r\n            transition-all\r\n            duration-300\r\n            cursor-pointer\r\n            gap-2\r\n            items-center\r\n            bg-green-100\r\n            text-gray-800\r\n            rounded\r\n            absolute\r\n            px-5\r\n            mt-3\r\n            opacity-0\r\n          "},[f("img",{class:"w-4 h-4",src:"https://img.icons8.com/ios/50/000000/logout-rounded--v1.png"}),f("p",{class:"text-lg"},"Logout")],-1),Qt={key:3,class:"flex gap-5"},Gt=[f("a",{href:"https://za011b128-z699745d2-gtw.qovery.io/auth/google"},[f("svg",{width:"20",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"\r\n              transition-all\r\n              duration-300\r\n              cursor-pointer\r\n              ter\r\n              text-white\r\n              fill-current\r\n            "},[f("title",null,"Google icon"),f("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})])],-1),f("a",{href:"https://za011b128-z699745d2-gtw.qovery.io/auth/github"},[f("svg",{width:"20",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"\r\n              transition-all\r\n              duration-300\r\n              cursor-pointer\r\n              ter\r\n              text-white\r\n              fill-current\r\n            "},[f("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})])],-1)];Et.render=function(e,t,n,o,a,r){const s=S("router-link"),l=S("router-view");return u(),m(L,null,[f("div",It,[f("nav",At,[B(s,{to:"/"},{default:V((()=>[Nt])),_:1}),f("div",Ut,[b(f("input",{type:"text",placeholder:"Search something !",class:"\r\n            w-full\r\n            h-full\r\n            px-3\r\n            text-gray-300\r\n            bg-gray-600\r\n            rounded-lg\r\n            focus:outline-none\r\n          ","onUpdate:modelValue":t[0]||(t[0]=e=>a.searchText=e),onKeypress:t[1]||(t[1]=q(((...e)=>r.search&&r.search(...e)),["enter"]))},null,544),[[O,a.searchText]]),(u(),m("svg",{width:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",onClick:t[2]||(t[2]=(...e)=>r.search&&r.search(...e)),class:"\r\n            absolute\r\n            top-0\r\n            right-0\r\n            mt-2\r\n            mr-2\r\n            text-gray-500\r\n            fill-current\r\n            dark:text-gray-400\r\n          "},zt))]),f("div",{class:"md:hidden cursor-pointer",onClick:t[3]||(t[3]=e=>{a.showSearch=!a.showSearch,r.search()})},_t),a.isMobile?b((u(),m("input",{key:0,type:"text",placeholder:"Search something !",class:g(["\r\n          w-full\r\n          h-full\r\n          px-3\r\n          text-gray-300\r\n          bg-gray-600\r\n          rounded-b-lg\r\n          focus:outline-none\r\n          absolute\r\n          left-1/2\r\n          text-base\r\n          mt-3\r\n          transform\r\n          -translate-x-1/2\r\n          transition-all\r\n          duration-300\r\n        ",{"translate-y-10":a.showSearch,"-translate-y-14":!a.showSearch}]),"onUpdate:modelValue":t[4]||(t[4]=e=>a.searchText=e)},null,2)),[[O,a.searchText]]):T("",!0),e.user?(u(),m("div",qt,Ot)):T("",!0),e.user?(u(),m("div",Ht,[f("div",Rt,[f("img",{src:e.user.profilePic,class:"w-8 h-8 rounded-full",alt:""},null,8,Ft),f("p",Jt,h(e.user.name),1)]),Vt])):(u(),m("div",Qt,Gt))])]),B(l,{class:"pt-20"})],64)};Q(Et).use($t).use(Dt).use(G).mount("#app");
